import{r as i,A as u,_ as s,ah as z,j as t,ai as p,a2 as O,a6 as M,q as S,aj as R,ak as f,al as L,am as H,B as C,an as k}from"./index-69a0c86a.js";var w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};const V=w;var $=function(n,a){return i.createElement(u,s(s({},n),{},{ref:a,icon:V}))};const E=i.forwardRef($);var N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};const A=N;var P=function(n,a){return i.createElement(u,s(s({},n),{},{ref:a,icon:A}))};const U=i.forwardRef(P);var q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm159.6-585h-59.5c-3 0-5.8 1.7-7.1 4.4l-90.6 180H511l-90.6-180a8 8 0 00-7.1-4.4h-60.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.9L457 515.7h-61.4c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V603h-81.7c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V717c0 4.4 3.6 8 8 8h54.3c4.4 0 8-3.6 8-8v-68.1h82c4.4 0 8-3.6 8-8V611c0-4.4-3.6-8-8-8h-82v-41.5h82c4.4 0 8-3.6 8-8v-29.9c0-4.4-3.6-8-8-8h-62l111.1-204.8c.6-1.2 1-2.5 1-3.8-.1-4.4-3.7-8-8.1-8z"}}]},name:"pay-circle",theme:"outlined"};const B=q;var I=function(n,a){return i.createElement(u,s(s({},n),{},{ref:a,icon:B}))};const F=i.forwardRef(I);var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M676 565c-50.8 0-92 41.2-92 92s41.2 92 92 92 92-41.2 92-92-41.2-92-92-92zm0 126c-18.8 0-34-15.2-34-34s15.2-34 34-34 34 15.2 34 34-15.2 34-34 34zm204-523H668c0-30.9-25.1-56-56-56h-80c-30.9 0-56 25.1-56 56H264c-17.7 0-32 14.3-32 32v200h-88c-17.7 0-32 14.3-32 32v448c0 17.7 14.3 32 32 32h336c17.7 0 32-14.3 32-32v-16h368c17.7 0 32-14.3 32-32V200c0-17.7-14.3-32-32-32zm-412 64h72v-56h64v56h72v48H468v-48zm-20 616H176V616h272v232zm0-296H176v-88h272v88zm392 240H512V432c0-17.7-14.3-32-32-32H304V240h100v104h336V240h100v552zM704 408v96c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-96c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zM592 512h48c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8z"}}]},name:"reconciliation",theme:"outlined"};const W=D;var T=function(n,a){return i.createElement(u,s(s({},n),{},{ref:a,icon:W}))};const G=i.forwardRef(T);var J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const K=J;var Q=function(n,a){return i.createElement(u,s(s({},n),{},{ref:a,icon:K}))};const X=i.forwardRef(Q);var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const Z=Y;var ee=function(n,a){return i.createElement(u,s(s({},n),{},{ref:a,icon:Z}))};const te=i.forwardRef(ee);function g(e){return e=e.filter(n=>n!=="undefined"),e.join(" ").trim()}function ne(e){return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?e.split("@")[0]:e:""}const ae="_header_11ydm_1",ce="_header__menuIcon_11ydm_7",ie="_header__logo_11ydm_11",se="_header__actives_11ydm_27",le="_header__actives_menu_11ydm_32",oe="_header__balance_11ydm_41",d={header:ae,header__menuIcon:ce,header__logo:ie,header__actives:se,header__actives_menu:le,header__balance:oe},re="_menuList_1db3q_1",de="_item_1db3q_4",ue="_item_text_1db3q_12",he="_menuList_horizontal_1db3q_18",me="_item_icon_1db3q_34",_e="_item_title_1db3q_37",ve="_select_item_1db3q_41",fe="_menuList_inline_1db3q_45",ge="_item_message_1db3q_75",o={menuList:re,item:de,item_text:ue,menuList_horizontal:he,item_icon:me,item_title:_e,select_item:ve,menuList_inline:fe,item_message:ge};function x(e){const n=z(),a=i.useMemo(()=>n.pathname,[n]),{mode:r="horizontal"}=e;return t.jsx("div",{className:g([o.menuList,o["menuList_"+r]]),children:p.web.map(c=>{const m=/^(http:\/\/|https:\/\/)/.test(c.path);return t.jsx(O,{to:c.path,target:m?"_blank":"_self",children:t.jsxs("div",{className:g([o.item,a===c.path?o.select_item:""]),children:[t.jsx("span",{className:o.item_icon,children:c.icon}),t.jsxs("div",{className:o.item_text,children:[t.jsx("p",{className:o.item_title,children:c.name}),r!=="horizontal"&&t.jsx("span",{className:o.item_message,children:c.message})]})]})},c.path)})})}function xe(e,n){const a=M(),{token:r,user_info:c,logout:m,setLoginModal:j}=S(),b=i.useMemo(()=>typeof e.logo=="string"?t.jsx("img",{src:e.logo}):t.jsx(t.Fragment,{children:e.logo}),[e.logo]);i.useEffect(()=>{v()},[r]);const[_,h]=i.useState({number:0,loading:!1});function v(){h(l=>({...l,loading:!0})),r?R().then(l=>{l.code||h(y=>({...y,number:l.data.integral,loading:!1}))}).finally(()=>{h(l=>({...l,loading:!1}))}):h(l=>({...l,loading:!1}))}return t.jsxs("div",{className:d.header,children:[e.isMobile&&e.hasSiderMenu&&t.jsx(U,{className:d.header__menuIcon,onClick:()=>{var l;return(l=e.onCollapse)==null?void 0:l.call(e,!e.collapsed)}}),t.jsxs("div",{className:d.header__logo,children:[b,!e.isMobile&&t.jsx("h1",{children:e.title})]}),!e.isMobile&&t.jsx(x,{}),t.jsxs("div",{className:d.header__actives,children:[r?t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(f,{arrow:!0,placement:"bottomRight",trigger:["click"],menu:{items:[{key:"yonghuzhongxin",icon:t.jsx(te,{}),label:"用户中心",onClick:()=>{a("/user")}},{key:"wodeyue",icon:t.jsx(F,{}),label:"我的余额",onClick:()=>{a("/shop")}},{key:"xiaofeijilu",icon:t.jsx(G,{}),label:"消费记录",onClick:()=>{a("/shop")}},{key:"tuichudenglu",icon:t.jsx(L,{}),label:"退出登录",onClick:()=>{m(),a("/login")}}]},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx(H,{src:c==null?void 0:c.avatar}),!e.isMobile&&t.jsx("span",{style:{fontSize:14,color:"#999",marginLeft:4},children:ne(c==null?void 0:c.account)})]})}),t.jsxs("div",{className:d.header__balance,onClick:()=>{v()},children:[t.jsxs("p",{children:["余额：",_.number]})," ",t.jsx(X,{spin:_.loading})]})]}):t.jsx(C,{type:"primary",onClick:()=>{j(!0)},children:"登录 / 注册"}),e.isMobile&&t.jsx(f,{arrow:!0,placement:"bottomRight",destroyPopupOnHide:!0,trigger:["click"],dropdownRender:()=>t.jsx(x,{mode:"inline"}),children:t.jsx("div",{className:d.header__actives_menu,children:t.jsx(E,{})})})]})]})}function be(e){const{menuExtraRender:n=()=>t.jsx(t.Fragment,{}),menuItemRender:a=()=>{}}=e;return t.jsx(k,{title:"ChatGpt",logo:"https://u1.dl0.cn/icon/openailogo.svg",layout:"mix",splitMenus:!1,contentWidth:"Fluid",fixedHeader:!0,fixSiderbar:!0,headerRender:xe,contentStyle:{height:"calc(100vh - 56px)",background:"#fff"},siderMenuType:"group",style:{background:"#fff"},menu:{hideMenuWhenCollapsed:!0,locale:!1,collapsedShowGroupTitle:!1},suppressSiderWhenMenuEmpty:!0,siderWidth:300,menuExtraRender:n,menuItemRender:a,route:e.route,menuDataRender:e.menuDataRender,avatarProps:{src:"https://cdn.jsdelivr.net/gh/duogongneng/testuitc/1682426702646avatarf3db669b024fad66-1930929abe2847093.png",size:"small",render:(r,c)=>t.jsx(t.Fragment,{children:c})},menuFooterRender:e.menuFooterRender,menuProps:e.menuProps,breadcrumbRender:()=>[],children:e.children})}export{be as L,X as S,g as j};
